@use 'sass:map';
@use "sass:math";
@use '~@angular/material' as mat;
@import "/src/palettes.scss";

$default-section-margin-vertical: 40px;
$default-section-margin-horizontal: 72px;

$default-component-margin-vertical: 16px;
$default-component-margin-horizontal: 32px;

$max-width: 1300px;
$nebel: map.get($rki-nebel, 400);
// @debug $rki-nebel;
// @debug $nebel;

:host {
    display: block;
    flex: 1;
    max-width: 100%;
}

.title-date-container {
    display: flex;
    flex-direction: row;

    .title {
        flex: 1;
    }

    .date {
        flex: 0 0 auto;
    }
}

@mixin home-page-component($theme) {
    $color-config: mat.get-color-config($theme);
    $primary-palette: map.get($color-config, "primary");
    $accent-palette: map.get($color-config, "accent");

    .home-page {
        // padding: 15px;
        max-width: 100%;

        display: flex;
        flex-direction: column;
        align-items: center;

        .rki-logo-container {
            display: flex;
            justify-content: center;

            .rki-logo {
                background-image: url("../../../assets/RKI_Logo.png");
                background-repeat: no-repeat;
                background-size: contain;
                background-color: mat.get-color-from-palette($primary-palette);
                height: 90px;
                width: 306px;
                margin: 25px 0;
            }
        }

        .header {
            background: mat.get-color-from-palette($primary-palette);
            width: 100%;
            display: flex;
            justify-content: center;

            .header-image-background {
                background: mat.get-color-from-palette($primary-palette);
                padding: 90px $default-section-margin-horizontal;
                color: white;
                background-image: url("../../../assets/header_background.png");
                background-size: cover;
                background-repeat: no-repeat;
                width: 100%;
                max-width: $max-width;
                box-sizing: border-box;

                .title-container {
                    display: flex;
                    flex-direction: row;
                    flex-wrap: wrap-reverse;

                    .title {
                        flex: 1;
                        // min-width: 550px;

                        font: 800 45px / 48px Roboto, "Helvetica Neue", sans-serif;
                        letter-spacing: -0.005em;
                        margin-bottom: 16px;
                    }
                    .licence-small {
                        flex: 0 0 auto;
                    }
                }

                .author-container {
                    margin-bottom: 24px;
                }
            }
        }

        .abstract-tag-container {
            width: 100%;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: $default-component-margin-horizontal;

            max-width: $max-width;
            padding: $default-section-margin-vertical $default-section-margin-horizontal;
            box-sizing: border-box;

            .abstract {
                color: mat.get-color-from-palette($accent-palette);
            }

            // gap: $default-margin-horizontal;

            .left-column {
                flex: 68;
                // max-width: calc(68% - #{$default-section-margin-horizontal * 0.68});

                // display: flex;
                // flex-direction: column;
            }

            .right-column {
                flex: 32;
                // max-width: calc(32% - #{$default-section-margin-horizontal * 0.32});

                // display: flex;
                // flex-direction: column;

                // mat-divider {
                //     margin-bottom: $default-margin-bottom;
                // }
            }
        }

        .content-cite-licence-container {
            width: 100%;
            background-color: $nebel;
            padding: $default-section-margin-vertical 0;
            display: flex;
            justify-content: center;

            .date {
                margin-bottom: $default-component-margin-vertical;
            }

            app-datasource-links {
                margin-bottom: $default-component-margin-vertical;
            }

            app-datasource-licence {
                margin-bottom: $default-component-margin-vertical;
            }

            app-datasource-cite {
                margin-bottom: $default-component-margin-vertical;
            }

            .row {
                box-sizing: border-box;
                width: 100%;
                max-width: $max-width;
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-between;
                align-items: flex-start;
                gap: $default-component-margin-horizontal;
                padding: $default-section-margin-vertical $default-section-margin-horizontal;

                .left-column {
                    // height: 100%;
                    min-width: 260px;

                    flex: 1 1 calc(25% - #{$default-component-margin-horizontal * 0.25});
                    // max-width: calc(25% - #{$default-component-margin-horizontal * 0.25});

                    display: flex;
                    flex-direction: column;

                    .filler {
                        // flex-grow: 1;
                        // max-height: 100px;
                    }
                }

                // @media (max-width: 1100px) {
                //     .left-column {
                //         height: unset;
                //     }
                // }

                // .filler {
                //     flex: 0 0 $default-component-margin-horizontal;
                //     // margin-left: auto;
                //     // margin-right: auto;
                //     // flex-grow: 1;
                //     // min-width: $default-component-margin-horizontal;
                // }

                .right-column {
                    width: 100%;
                    flex: 1 1 calc(75% - #{$default-component-margin-horizontal * 0.75});
                    // max-width: calc(75% - #{$default-component-margin-horizontal * 0.75});
                }
            }
        }

        .doc-container {
            width: 100%;
            display: flex;
            justify-content: space-between;

            max-width: $max-width;
            padding: $default-section-margin-vertical $default-section-margin-horizontal;
            box-sizing: border-box;
            gap: $default-component-margin-horizontal;
            // flex-wrap: wrap;

            &.small {
                flex-wrap: wrap;
                gap: unset;
                app-keep-in-view {
                    display: none;
                }
            }
            // gap: $default-margin-horizontal;

            .left-column {
                flex: 1 1 calc(25% - #{$default-component-margin-horizontal * 0.25});
                // max-width: calc(25% - #{$default-section-margin-horizontal * 0.25});

                // display: flex;
                // flex-direction: column;
            }

            .right-column {
                flex: 1 1 calc(75% - #{$default-component-margin-horizontal * 0.75});
                width: 100%;
                overflow: hidden;
                // max-width: calc(75% - #{$default-section-margin-horizontal * 0.75});

                // display: flex;
                // flex-direction: column;

                // mat-divider {
                //     margin-bottom: $default-margin-bottom;
                // }
            }
        }

        app-datasource-licence .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary {
            background-color: mat.get-color-from-palette($primary-palette, "default-contrast");
            color: mat.get-color-from-palette($primary-palette);
            // border-radius: 0;
        }
    }
}
